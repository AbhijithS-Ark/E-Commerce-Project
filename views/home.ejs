<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Smart Buy | <%=title%></title>
        <link rel="stylesheet" href="/style.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">    
    </head>
<body>
    <header>
        <div class="logo-container">
        <div class="logo">Smart Buy</div>
        </div>
        <nav>
        <ul class="nav-links">
        <li><a class="nav-link" href="/">Home</a></li>
        <li><a  class="nav-link" href="/Aboutus">About Us</a></li>
        <li><a class="login1" href="/Login">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        Login
        </a></li>
        </ul>
        </nav>
    </div>
    </header>
    
    
   <section class="home">
    <div class="slider">
       <div class="slide active" style="background-image: url('/Homeimages/slide1.jpg')">
           <div class="container">
               <div class="caption">
                   <h1>1. Winter Collection 2020</h1>
                   <h4>Lorem ipsum dummy text goes here.</h4>
               </div>
           </div>
       </div>
       <div class="slide" style="background-image: url('/Homeimages/slide-2.jpg')">
           <div class="container">
               <div class="caption">
                   <h1>2. Winter Collection 2020</h1>
                   <h4>Lorem ipsum dummy text goes here.</h4>
               </div>
           </div>
       </div>
       <div class="slide" style="background-image: url('/Homeimages/Slide-3.jpg')">
           <div class="container">
               <div class="caption">
                   <h1>3. Winter Collection 2020</h1>
                   <h4>Lorem ipsum dummy text goes here.</h4>
               </div>
           </div>
       </div>
    </div>
  
   <!-- controls  -->
   <div class="controls">
       <div class="prev"><</div>
       <div class="next">></div>
   </div>

   <!-- indicators -->
   <div class="indicator">
   </div>

 </section>

  <script>

const slides=document.querySelector(".slider").children;
 const prev=document.querySelector(".prev");
 const next=document.querySelector(".next");
 const indicator=document.querySelector(".indicator");
 let index=0;


   prev.addEventListener("click",function(){
       prevSlide();
       updateCircleIndicator(); 
       resetTimer();
   })

   next.addEventListener("click",function(){
      nextSlide(); 
      updateCircleIndicator();
      resetTimer();
      
   })

   // create circle indicators
    function circleIndicator(){
        for(let i=0; i< slides.length; i++){
        	const div=document.createElement("div");
        	      div.innerHTML=i+1;
                div.setAttribute("onclick","indicateSlide(this)")
                div.id=i;
                if(i==0){
                	div.className="active";
                }
               indicator.appendChild(div);
        }
    }
    circleIndicator();

    function indicateSlide(element){
         index=element.id;
         changeSlide();
         updateCircleIndicator();
         resetTimer();
    }
     
    function updateCircleIndicator(){
    	for(let i=0; i<indicator.children.length; i++){
    		indicator.children[i].classList.remove("active");
    	}
    	indicator.children[index].classList.add("active");
    }

   function prevSlide(){
   	 if(index==0){
   	 	index=slides.length-1;
   	 }
   	 else{
   	 	index--;
   	 }
   	 changeSlide();
   }

   function nextSlide(){
      if(index==slides.length-1){
      	index=0;
      }
      else{
      	index++;
      }
      changeSlide();
   }

   function changeSlide(){
   	       for(let i=0; i<slides.length; i++){
   	       	 slides[i].classList.remove("active");
   	       }

       slides[index].classList.add("active");
   }

   function resetTimer(){
   	  // when clicked to indicator or controls button 
   	  // stop timer 
   	  clearInterval(timer);
   	  // then started again timer
   	  timer=setInterval(autoPlay,4000);
   }
 
  
  function autoPlay(){
      nextSlide();
      updateCircleIndicator();
  }

  let timer=setInterval(autoPlay,4000);

   </script>
</body>
</html>


